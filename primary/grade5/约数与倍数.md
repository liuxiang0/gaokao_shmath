# 约数和倍数，最大公约数和最小公倍数

约数和倍数是不同的。约数又叫因数 factor，倍数 multiple。两者相互依存。

**如果 $p\mid n$（即 $n$ 能被 $p$ 整除）, 那么 $n$ 就是 $p$ 的倍数，$p$ 就是 $n$ 的约数。**

注意：每个数（1除外）至少有两个约数，1和它本身。1也是这个数最小的约数，它本身是这个数最大的约数。

**知识要点**  

1. 一个数的约数的个数是有限个(finite)，但是它的倍数的个数有无限个(infinite)。
2. 约数不大于原数，倍数不小于原数
3. 约数是除法得到的，倍数是乘以一个正整数得到的
4. 约数和倍数都是一系列的数组成的
5. 公因数和最大公因数
6. 公倍数和最小公倍数
7. 分解素因数
8. 辗转相除法
9. 约数个数定理
10. 只在自然数（零除外）范围内研究倍数和因数


## 约数的个数及个数定理
---------

为了得到一个数的约数个数，首先需要将这个数进行素因数分解，并将结果写成 **指数形式**，即将相同素因数的乘积写成指数形式，如 $p^k表示k个p相乘$。

指数形式：$n个a相乘，记成 a^n, 它是乘法的简写形式。\\a^n=\underbrace{a\times a\times\cdots\times a}_{n个a}$

一个合数的约数个数，等于它的素因数分解式中每个素因数的个数（即指数）加1的连乘。

对于一个大于 $1$ 的正整数 $N$ 可以分解素因数：

$N=\prod_{i=1}^{k} p_i^{a_i} = p_1^{a_1}\cdot p_2^{a_2} \cdots p_k^{a_k}$ 

则 $N$ 的正约数的个数就是 $f(N)=\prod_{i=1}^k (a_i+1)=(a_1+1)(a_2+1)\cdots (a_k+1)$  。

其中 $a_1、a_2、a_3、\cdots、a_k$ 是 $p_1、p_2、p_3、\cdots、p_k$的指数


## 分解素因数是关键
---------

Python语言中有一个模块 sympy, 其中有一个函数 factorint(n) 就可以分解素因数。

~~~python
>>> import sympy 
>>> sympy.factorint(32)
{2: 5}  # 代表 2^5
>>> sympy.factorint(132)
{2: 2, 3: 1, 11: 1}  # 代表 2^2*3*11
>>> sympy.factorint(35)
{5: 1, 7: 1}  # 代表 5*7
>>> sympy.factorint(360)
{2: 3, 3: 2, 5: 1}  # 代表 2^3*3^2*5
>>> sympy.factorint(240)
{2: 4, 3: 1, 5: 1}  # 代表 2^4*3*5
~~~

[GeoGebra](https://ggb123.cn/u/kumath) 中，也有函数 `Factors(Number)` 进行分解素因数，如 **$Factors(32)\to (2\; 5)$**, 表示 $2^5$;

同时还可以进行 **因式分解** `Factors(Polynomial)` 可以分解因式，如 **$Factors(x^3-1)\to \{\{x-1,1\},\{x^2+x+1,1\}\}$**, 表示 $x^3-1=(x-1)(x^2+x+1)$。


## 约数和平方数的关系
---------

为了使得一个数的约数有奇数个，它的所有素因数的指数加 1 就得是奇数，即每一个素因数的指数都是偶数。   
如 $49=7^2, \;400=2^4\times 5^2,\;90000 = 2^4\times3^2\times5^4,$  
上述这些数都是完全平方数，它们所含的每个素因数，其指数都是偶数。

$\boxed{含有奇数个约数的数是完全平方数，含有偶数个约数的数不是完全平方数。}$


## 公约数和公倍数
---------

顾名思义，公约数就是几个数公共的约数，如 2是6、8、10的公约数，其中最大的那个公约数就是**最大公约数**(greatest common divisor)；公倍数就是几个数公共的倍数，如12是3、4、6的公倍数，其中最小的那个公倍数称为 **最小公倍数**(least common multiple)。

特别情况：1是所有数的公约数。

记号：$(a,b) 或 \gcd(a,b)$ 表示 $a、b$ 的最大公约数；$[a,b] 或 \text{lcm}(a,b)$ 表示 $a、b$ 的最小公倍数。多个数一样表示，如 $(a,b,c),[a,b,c,d]$。

最小公倍数有：
$a\mid [a,b], \qquad b\mid [a,b], \qquad [a,b]\times(a,b)=a\times b$

## 最大公约数和最小公倍数求法
---------

常用方法有：**短除法、分解素因数和辗转相除法**

### 分解素因数

1. 先分解素因数，求最大公约数就是求出每一个素因数在所有数中出现的最低次，然后将这些素因数连乘即可。
2. 先分解素因数，求最小公倍数就是求出每一个素因数在所有数中出现的最高次，然后将这些素因数连乘即可。

### 辗转相除法

又称为欧几里得算法(Euclidean algorithm), 属于带余除法特例   

用较大数除以较小数，再用出现的余数（第一余数）去除除数，再用出现的余数（第二余数）去除第一余数，如此反复，直到最后余数是0为止。如果是求两个数的最大公约数，那么最后的除数就是这两个数的最大公约数。

用辗转相除法确定两个正整数 $a 和 b(a≥b)$ 的最大公因数 $gcd(a,b)$:

当 $a \mod b=0$ 时, $gcd(a,b)=b$, 否则  
$gcd(a,b) = gcd(b,a \mod b)$

递归或循环运算得出结果。

举例说明：

`gcd(12,32)=gcd(12, 32 mod 12)=gcd(12,8)=gcd(8,12 mod 8)=gcd(8,4)=4`

### Python语言求最大公约数

在Python语言中，有两个库中都包含了gcd函数：`math.gcd(x,y)， sympy.gcd(f,g)`，后者还可以计算 **多项式的最大公因式**。

~~~python
>>> import math, sympy
>>> math.gcd(1547,1573)
13
>>> sympy.gcd(1547,1573)
13
>>> from sympy.abc import x
>>> sympy.gcd(x**2 - 1, x**2 - 3*x + 2)
x - 1
~~~


## 例题 
---------

### 例题1  求32的约数个数和各个约数

解：  
$\qquad \because 32=2^5 \\ \qquad\therefore 32有 5+1=6$个约数。

它们分别是 $1\times32,\;2\times16,\;4\times8$

### 例题2  求35的约数个数和各个约数

解：  
$\qquad \because 35=5\times7 \\ \qquad\therefore 35有 (1+1)\times(1+1)=4$个约数。

它们分别是 $1\times35,\;5\times7$

### 例题3  求360的约数个数，其中奇数有多少个？

解：  
$\qquad \because 360=2^3\times 3^2 \times 5  \\ \qquad\therefore 360有 (3+1)\times(2+1)\times(1+1)=24$个约数。

奇数约数不能是2的倍数，故只能是3和5的倍数，共有$(2+1)\times(1+1)=6$个奇数约数。

### 例题4  求240的约数个数，它所有约数的乘积有多少个约数？

解：  
$\qquad \because 240=2^4\times3\times5,\\ \qquad \therefore 240有(4+1)\times(1+1)\times(1+1)=20$个约数

20个约数正好可以配成10对，每对乘积都是240，故所有约数乘积为 $240^{10}=(2^4\times3\times5)^{10}=2^{40}\times3^{10}\times5^{10}$, 共有 $(40+1)\times(10+1)\times(10+1)=4961$ 个约数。

### 例题5 两数乘积为2800，已知其中一个数的约数个数比另一个数的约数个数多1，这两个数分别是多少？

解：一个数的约数个数比另一个数的约数个数多1，则必定有一个数的约数个数是奇数。

$\because2800=2^4\times5^2\times7$, 约数个数为 $(4+1)\times(2+1)\times(1+1)=30=5\times6$, 可以拆成 $2^4\times(5^2\times7)$

所以这两个数分别是 $16和175$。

### 例题6 计算题

$(1)\; (391,357),\;[391,357];\qquad\qquad (2)\;(18,24,36), \;[18,24,36]$

解：$(1)\;\because391= 17\times 23, \;357=3\times7\times17\\\therefore (391,357)=17, [391,357]=3\times7\times17\times23=8211$

$(2)\;\because18= 2\times3^2, \;24=2^3\times3, \;36=2^2\times3^2 \\\therefore (18,24,26)=2\times3=6,\; [18,24,36]=2^3\times3^2=72$

### 例题7 求 1547、1573、1859 这三个数的最大公约数和最小公倍数。

解析：表面看，这三个数不容易分解素因数，我们采用辗转相除法。

$\because 1573 \mod 1547 = 26, \;1547 \mod 26 = 13,\\ \therefore 13是它们的公约数$

现在可以分解素因数了。

$\because 1573=11^2\times13,\; 1547 = 7\times13\times17, \;1859 = 11\times13^2,\\ \therefore 13是它们的最大公约数,\\7\times11^2\times13^2=1001\times11\times13=143143是它们的最小公倍数$

### 例题8 分数的加减运算，必须先化成同分母，即求出每组分数中的分母的最小公倍数

计算 $\dfrac{3}{4}+\dfrac{1}{6},\qquad \dfrac{2}{5}+\dfrac{2}{9}, \qquad\dfrac{11}{15}-\dfrac{7}{18}$

## 练习题
---------

1. $\;72$ 共有多少个约数？其中有多少个约数是3的倍数？$\\[7em]$

2. $\;5400$ 共有多少个约数？求出所有约数乘积的素因数分解。$\\[7em]$

3. 两数乘积为2100，已知其中一个数的约数个数比另一个数的约数个数的2倍还多1，这两个数分别是多少？$\\[7em]$

4. 计算 (25,105), [25,105], (24,28,42), [24,28,42]$\\[7em]$

5. （1）求1085和1178的最大公约数和最小公倍数；（2）求3553、3910和1411的最大公约数。$\\[7em]$

6. 自然数 $n$ 是 $1,2,3,\cdots,10$ 的倍数，且它恰好有 $72$ 个约数，那么 $n$ 的最小值是多少？$\\[7em]$
 

## 作业
---------

1. $\;1350$ 的约数有多少个？其中有多少个是奇数？$\\[7em]$

2. 在 $1 \sim 600$ 中，恰好有3个约数的数有几个？$\\[7em]$

3. 将1080分解成两个数的乘积，其中一个数的约数比另一个多1，那么这两个数分别是多少？$\\[7em]$

4. 计算：（1）gcd(28,72), [28,72];  (2) gcd(28,44,260), [28,44,260]$\\[7em]$

5. 利用辗转相除法计算： (1) gcd(7191,38211),  (2) [693,546,378]
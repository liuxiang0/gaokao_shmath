# 整除问题进阶篇

## 整除的一些基本性质

关于整数的整除，有如下一些基本性质：  

- 性质1 整除传递性: 若 $b｜a，c｜b，$则 $c｜a$．  
- 性质2 和差整除性: 若 $c｜a，c｜b，$则 $c｜(a±b)$．  
- 性质3 若 $c｜a，c\nmid b，$则 $c \nmid (a±b)$．  
- 性质4 若 $b｜a，d｜c，$则 $bd｜ac$．  
- 性质5 若 $a=b＋c$，且 $m｜a，m｜b$，则 $m｜c$．  
- 性质6 若 $b｜a，c｜a$，则 $[b，c]｜a$, 此处$[b，c]$为 $b，c$ 的最小公倍数. 特别地，当 $(b，c)=1$ 时，$bc｜a$, 此处 $(b，c)$ 为 $b，c$ 的最大公约数．  
- 性质7 若 $c｜ab$，且 $(c，a)=1$，则 $c｜b$．特别地，若 $p$ 是素数，且 $p｜ab$，则 $p｜a$ 或 $p｜b$．  
- 性质8 若 $a≠b，n$ 是自然数，则 $(a-b)｜(a^n-b^n)$．  
- 性质9 若 $a≠-b，n$ 是正偶数，则 $(a＋b)｜(a^n-b^n)$．  
- 性质10 若 $a≠-b，n$ 是正奇数，则 $(a＋b)｜(a^n＋b^n)$．

## 模的理解

“模”是指一个计量系统的计数范围；如时钟，12个整点为计算范围，则模为12；计算机也是一个计量机器，模为32位或者64位；

32位计算机正常理解: 在模范围内能表达的有 $[0, 2^{32}-1]$；那么负数该怎么表达呢，所以出现了**补码**；也就是 **正数 + 负数** 正好达到模的溢出阀值 $2^{32}$；所以在计算机中负数是用补码方式表达的原因；

关于补码的例子：在12模的时钟中, 假设当前时针指向10点,而准确时间是6点,调整时间可有以下两种拨法:  

倒拨4小时,即：10-4=6 (10-4) mod 12 = 6  
顺拨8小时：10+8=12+6=6 （10+8）mod 12 = 6  
在以12模的系统中，加8和减4效果是一样的；因此凡是减4运算，都可以用加8来代替。对“模”而言，8和4互为补数。实际上以12模的系统中11和1、10和2、9和3、7和5、6和6都有这个特性；共同的特点是两者相加等于模。

“取模”实质上是计量器产生“溢出”的量，它的值在计量器上表示不出来，计量器上只能表示出模的余数(取模)；任何有模的计量器，均可化为加减法运算。

5 mod 3 = 2 例子中；模为3；2为取模的值。

## 计算机中取模应用思想

取模的本质是：取模的值，必定在模的范围内；所以，计算机领域引用该特性，使元素路由算法不超出边界，并有规则存放。

首先确定模(范围)；元素取模，使元素有规则的落入模的范围内的容器中

如：hashMap、数据库分表、分布式节点路由算法等。

## 取模和取余的区别

- 取余运算: 在计算商值时, 商值向0方向舍入(fix()函数)；靠近0原则.   
- 取模运算: 在计算商值时, 商值向负无穷方向舍入(floor()函数)；尽可能让商值小的原则(不超过商值的最大值)    

**举例:**   
-7 mod  4= 1(商=-2, 向负无穷大方向舍入)   
 7 mod -4=-1(商=-2, 向负无穷大方向舍入)  
-7 mod -4=-3(商=1, 靠近0原则)   
 7 mod  4= 3(商=1, 靠近0原则)

可以用Python语言中的 `math.floor(-7/-4)` 来验证商，用 `-7%-4` 来验证取模运算(%表示mod运算)。

## 取模和取余的计算步骤

假设有整数 $a$ 和 $b$，那么取模和取余运算可以分为两步运算：
 
(1) 求整数商：$c = a \div b$;  
(2) 计算余数：$r = a - (c\times b)$;  
(3) 计算模：$a \mathbin{\text{mod}} b = a - b\times[a\div b] ([a \div b]$表示整数商 $)$

### 取模和取余案例

|a|	b|	求余|Python：a%b（取模）|
|---|---|---|---|
|-3|-5|	-3|-3|
|-3|4 |	-3|	1|
|-3|2 |	-1|	1|
|-1|6 |	-1|	5|
|-4|-3|	-1|-1|
|2 | 4|	2|	2|
|5 | 3|	2|	2|
|4 |-7|	4| -3|
|4 |-3|	1| -2|
|-6|-5|	-1|-1|

### 基本性质

1. 若$p|(a-b)$，则 $a≡b (\mathbin{\%} p)$。例如 $11 ≡ 4 (\mathbin{\%} 7)， 18 ≡ 4(\mathbin{\%} 7)$
2. 若($a$ % p)=($b$ % p) $\iff$ $a≡b$ (% p)
3. 对称性：$a≡b$ (% p)等价于 $b≡a$ (% p)
4. 传递性：若 $a≡b$ (% p) 且 $b≡c$ (% p)，则 $a≡c$ (% p)

### 运算规则

模运算与基本四则运算有些相似，但是除法例外。其规则如下：
1. ($a + b$) % p = ($a$ % p $+ b$ % p) % p 
2. ($a - b$) % p = ($a$ % p $- b$ % p) % p
3. ($a \times b$) % p = ($a$ % p $\times b$ % p) % p
4. $a ^ b$ % p = (($a$ % p)$^b$) % p  

    结合律：  
5. ($(a+b)$ % p $+ c$) % p = ($a + (b+c)$ % p) % p  
6. ($(a\times b)$ % p $\times c$)% p = ($a \times (b\times c)$ % p) % p  

    交换律：  
7. $(a + b)$ % p = $(b+a)$ % p  
8. $(a \times b)$ % p = $(b \times a)$ % p

    分配律：
9. $(a+b)$ % p = ( $a$ % p + $b$ % p )
10. ($(a +b)$ % p $\times c$) % p = ($(a \times c)$ % p + $(b \times c)$ % p) % p  

    重要定理
11. 若 $a≡b$ (% p)，则对于任意的 $c$，都有 $(a + c) ≡ (b + c)$ (% p)
12. 若 $a≡b$ (% p)，则对于任意的 $c$，都有 $(a \times c) ≡ (b \times c)$ (% p)
13. 若 $a≡b$ (% p)，$c≡d$ (% p)，则 $(a + c) ≡ (b + d)$ (% p)，$(a - c) ≡ (b - d)$ (% p)，
$(a \times c) ≡ (b \times d)$ (% p)

## 例1

**求证：形如 $\overline{abcabc}$ 的六位数一定能被7、11、13同时整除**

证明：$\because \overline{abcabc}=\overline{abc}\times1000+\overline{abc}=\overline{abc}\times1001, 1001=7\times11\times13 \therefore 7,11,13同时整除 \overline{abcabc}$  

特殊情况下，如果 $\overline{abc}=111$, 则 $7,11,13同时整除111111$。

## 例2

已知 51位数 $\overline{\underbrace{55\cdots 5}_{25个5}\square{\underbrace{99\cdots9}_{25个9}}}$ 能被13整除，中间方格内的数字是多少？

解：  $\because 555555=5\times111111, 999999=9\times111111 \\ \qquad\therefore 13|555555,13|999999$    
$$\overline{\underbrace{55\cdots 5}_{25个5}\square{\underbrace{99\cdots9}_{25个9}}} \\[1em]
=\overline{\underbrace{55\cdots 5}_{24个5}5\square9{\underbrace{99\cdots9}_{24个9}}} \\[1em]
=\underbrace{55\cdots 5}_{24个5}\times 10^{27}+\overline{5\square9}+ \underbrace{99\cdots9}_{24个9}$$

只要 $13\mid \overline{5\square9}$, 原来的51位数就必能被13整除。
利用被13整除的数的截尾法，得到 $5\square+9\times4$ 能被13整除。
所以只有 $13\mid 559$,方格内填数字5.

拓展：能被11整除，方格内填数字 3；能被7整除，方格内也需填3.

## 例3 

**已知多位数 $\overline{81\square\underbrace{258258\cdots258}_{2020个258}}$ 能同时被7和13整除，方格内的数字是多少？**

解：采用例1的结论，以及整除的性质：和的整除性，可知，只要首3位能够倍$7\times13=91$整除，通过计算，只有 $91\mid 819$,故方格内填9.

## 例4

用数字6、7、8各两个，可以组成能被6、7、8同时整除的六位数，请写出一个满足要求的六位数。

解：采用例1方式，由6、7、8组成的三位数连写两遍，一定能被6和7整除，故只要考虑能被8整除的情形。   
末三位能够被8整除，经验证，8|768，故满足条件的六位数是 768768.

## 例5


